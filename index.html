<!DOCTYPE html>
<html>

<head>
    <meta name="algolia-site-verification" content="10D97C1641C5FBC4" />
    <title>Recipes</title>
    <link rel="icon"
        href="images/pixel-art-plate-with-fried-eggs-bacon-vector-icon-8bit-game-white-background_360488-1474-removebg-preview.png"
        type="image/png">
    <link rel="stylesheet" href="style.css">
</head>

<body bgcolor="#EDECE4">
    <h1 style="font-size: 300%; color:#60679F; font-family: ;">Recipes</h1>

    <input type="text" id="searchBox" placeholder="Search recipes..." />
    <ul id="results"></ul>

    <script>
        async function getRecipePages() {
            const response = await fetch("https://api.github.com/repos/aqawaearatay00/Recipes/contents/recipes");
            const files = await response.json();
            return files
                .filter(file => file.name.endsWith(".html"))
                .map(file => ({
                    title: file.name.replace(".html", "").replace(/-/g, " "),
                    url: "recipes/" + file.name
                }));
        }

        getRecipePages().then(pages => {
            document.getElementById("searchBox").addEventListener("input", function () {
                const query = this.value.toLowerCase();
                const matches = pages.filter(p => p.title.toLowerCase().startsWith(query));
                document.getElementById("results").innerHTML = matches.map(p =>
                    `<li><a href="${p.url}" class="resultLink">${p.title}</a></li>`
                ).join("");
            });
        });
    </script>
</body>

</html>